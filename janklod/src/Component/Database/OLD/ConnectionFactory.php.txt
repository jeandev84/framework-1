<?php
namespace Jan\Component\Database;



use Jan\Component\Database\Connection\PDO\MySqlConnection;
use Jan\Component\Database\Connection\PDO\OracleConnection;
use Jan\Component\Database\Connection\PDO\PgsqlConnection;
use Jan\Component\Database\Connection\PDO\SQLiteConnection;
use Jan\Component\Database\Connection\PDO\Support\PDOConnection;
use Jan\Component\Database\Contract\ConnectionInterface;

/**
 * Class ConnectionFactory
 * @package Jan\Component\Database
*/
class ConnectionFactory
{

    /**
      * @var array
     */
     protected $connections = [];


     /**
      * ConnectionFactory constructor.
     */
     public function __construct()
     {
     }



     /**
      * @param mixed $connection
     */
     public function setConnection(ConnectionInterface $connection)
     {
         $this->connections[$connection->getName()] = $connection;
     }


     /**
      * @param $connections
     */
     public function setConnections($connections)
     {
         foreach ($connections as $connection) {
             $this->setConnection($connection);
         }
     }


     /**
      * @param string $name
      * @return mixed
     */
     public function make(string $name)
     {
         if (! \array_key_exists($name, $this->connections)) {
            return null;
         }

         return $this->connections[$name];
     }


     /**
      * @return array
     */
     public function getConnections(): array
     {
         return $this->connections;
     }
}